"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const path_1 = require("path");
const lexer_1 = require("./lexer");
const stream_1 = require("./stream");
const parser_1 = require("./parser");
const event_1 = require("./structures/event");
const test_1 = require("./effects/test");
const scriptLoad_1 = require("./events/scriptLoad");
const input = (0, fs_1.readFileSync)((0, path_1.join)(__dirname, "../test.sk"), "utf8");
new event_1.StructEvent().initialize();
new scriptLoad_1.EvtScriptLoad().initialize();
new test_1.EffTest().initialize();
const lexer = new lexer_1.Lexer(input);
const tokens = lexer.lex().filter((t) => t.type !== lexer_1.TokenTypes.WHITESPACE);
const stream = new stream_1.TokenStream(tokens);
const parser = new parser_1.Parser(stream);
const structures = parser.parse();
structures[0].structure.visit(parser, structures[0].match);
